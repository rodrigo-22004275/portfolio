<!-- projects.html -->

{% extends 'portfolio/layout.html' %}

{% block main %}
	<h3 class="title" id="uni">Projetos académicos
        {% if request.user.is_authenticated %}
            <a class="add-btn" href="{% url 'portfolio:novo' tipo='projeto' %}">Adicionar +</a>
        {% endif %}
    </h3>
    {% load static %}
    <div class="listagem">
        {% for pj in projetos %}
            <article>
                {% if request.user.is_authenticated %}
                    <a class="edit" href="{% url 'portfolio:editar' tipo='projeto' tipo_id=pj.id %}">Editar</a>
                {% endif %}
                {% if pj.imagem %}
                    <img src="{{ pj.imagem.url }}" alt="{{ pj.imagem.name }}">
                {% else %}
                    <img src="{% static 'portfolio/images/default-image.jpg' %}" alt="Image not found">
                {% endif %}
                <div class="content">
                    <p>
                        <b>{{ pj.titulo }}</b>
                        <br />{{ pj.descricao }}
                    </p>
                </div>
                <div class="author">
                    <p>Cadeira de {{ pj.cadeira.nome }}</p>
                    {% if pj.link %}
                        <a href="{{ pj.link }}">Ver projeto</a>
                    {% endif %}
                </div>
            </article>
        {% endfor %}
    </div>

    <br><br>

	<h3 class="title" id="auto">Projetos autónomos
        {% if request.user.is_authenticated %}
            <a class="add-btn" href="{% url 'portfolio:novo' tipo='hobby' %}">Adicionar +</a>
        {% endif %}
    </h3>
    <div class="listagem">
        {% for pj in projetosHobby %}
            <article>
                {% if request.user.is_authenticated %}
                    <a class="edit" href="{% url 'portfolio:editar' tipo='hobby' tipo_id=pj.id %}">Editar</a>
                {% endif %}
                {% if pj.online %}
                    <p class="status online">Online</p>
                {% else %}
                    <p class="status offline">Offline</p>
                {% endif %}
                {% if pj.imagem %}
                    <img src="{{ pj.imagem.url }}" alt="{{ pj.imagem.name }}">
                {% else %}
                    <img src="{% static 'portfolio/images/default-image.jpg' %}" alt="Image not found">
                {% endif %}
                <div class="content">
                    <p>
                        <b>{{ pj.titulo }}</b>
                        <br />{{ pj.descricao }}
                    </p>
                </div>
                <div class="author">
                    <p>Lançado em {{ pj.data.month }}/{{ pj.data.year }}</p>
                    {% if pj.link %}
                        <a href="{{ pj.link }}">Ver projeto</a>
                    {% endif %}
                </div>
            </article>
        {% endfor %}
    </div>

    <br><br>

    <h3 class="title" id="tfcs">TFCs
        {% if request.user.is_authenticated %}
            <a class="add-btn" href="{% url 'portfolio:novo' tipo='TFC' %}">Adicionar +</a>
        {% endif %}
    </h3>
    {% load static %}
    <div class="listagem">
        {% for pj in TFCs %}
            <article>
                {% if request.user.is_authenticated %}
                    <a class="edit" href="{% url 'portfolio:editar' tipo='TFC' tipo_id=pj.id %}">Editar</a>
                {% endif %}
                {% if pj.imagem %}
                    <img src="{{ pj.imagem.url }}" alt="{{ pj.imagem.name }}">
                {% else %}
                    <img src="{% static 'portfolio/images/default-image.jpg' %}" alt="Image not found">
                {% endif %}
                <div class="content">
                    <p>
                        <b>{{ pj.titulo }}</b>
                        Apresentado em {{ pj.data.year }} por {{ pj.aluno }} com a orientação de {{ pj.orientador.nome }}
                        <br /><br />
                        {{ pj.resumo }}
                    </p>
                </div>
                <div class="author">
                    <a href="{{ pj.video }}">Vídeo</a>
                    &nbsp;
                    <a href="{{ pj.relatorio }}">Relatório</a>
                    &nbsp;
                    <a href="{{ pj.link }}">GitHub</a>
                </div>
            </article>
        {% endfor %}
    </div>

    {% if not request.user.is_authenticated %}
        <div class="info-banner">
            <p>
                Gostava de adicionar, editar ou apagar conteúdo?
                <br>
                Pode fazê-lo após <a href="{% url 'portfolio:login' %}">iniciar sessão</a>.
            </p>
        </div>
    {% endif %}
{% endblock %}